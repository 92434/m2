name: æ‹‰å–å·¥ä½œæµ - é•œåƒè·å–

on:
  repository_dispatch:
    types: [pull-workflow]

jobs:
  pull-image:
    runs-on: ubuntu-latest
    
    steps:
      - name: Dockerè®¤è¯
        uses: docker/login-action@v3
        with:
          registry: ghcr.io
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
      
      - name: æ‹‰å–æºé•œåƒ
        run: |
          SOURCE_IMAGE="${{ github.event.client_payload.source_image }}"
          echo "ğŸ“¥ æ­£åœ¨æ‹‰å–é•œåƒ: $SOURCE_IMAGE"
          docker pull "$SOURCE_IMAGE"
          
      - name: éªŒè¯é•œåƒå­˜åœ¨
        run: |
          SOURCE_IMAGE="${{ github.event.client_payload.source_image }}"
          docker images "$SOURCE_IMAGE" --format "table {{.Repository}}\t{{.Tag}}\t{{.ID}}"